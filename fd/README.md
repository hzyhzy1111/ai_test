# å›¾ç‰‡ä¸Šä¼ ç³»ç»Ÿ

åŸºäº Vue 3 + TypeScript + Vite æ„å»ºçš„ç°ä»£åŒ–å›¾ç‰‡ä¸Šä¼ ç³»ç»Ÿï¼Œæ”¯æŒæ‹–æ‹½ä¸Šä¼ ã€æ‰¹é‡ä¸Šä¼ ã€å®æ—¶é¢„è§ˆç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ–¼ï¸ **å›¾ç‰‡é¢„è§ˆ**: é€‰æ‹©å›¾ç‰‡åç«‹å³æ˜¾ç¤ºé¢„è§ˆ
- ğŸ“ **æ‹–æ‹½ä¸Šä¼ **: æ”¯æŒæ‹–æ‹½æ–‡ä»¶åˆ°ä¸Šä¼ åŒºåŸŸ
- ğŸ“¦ **æ‰¹é‡ä¸Šä¼ **: æ”¯æŒåŒæ—¶é€‰æ‹©å¤šä¸ªå›¾ç‰‡æ–‡ä»¶
- ğŸ“Š **ä¸Šä¼ è¿›åº¦**: å®æ—¶æ˜¾ç¤ºä¸Šä¼ è¿›åº¦
- ğŸ¨ **ç°ä»£åŒ–UI**: ç¾è§‚çš„ç”¨æˆ·ç•Œé¢è®¾è®¡
- ğŸ“± **å“åº”å¼è®¾è®¡**: æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- ğŸ”’ **æ–‡ä»¶éªŒè¯**: åªå…è®¸ä¸Šä¼ å›¾ç‰‡æ ¼å¼æ–‡ä»¶
- ğŸ“ **å¤§å°é™åˆ¶**: æ”¯æŒæ–‡ä»¶å¤§å°é™åˆ¶

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- Vue 3 (Composition API)
- TypeScript
- Vite
- CSS3 (Grid, Flexbox)

### åç«¯ (ç¤ºä¾‹)
- Node.js
- Express.js
- Multer (æ–‡ä»¶ä¸Šä¼ ä¸­é—´ä»¶)
- CORS

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…å‰ç«¯ä¾èµ–

```bash
npm install
# æˆ–è€…
pnpm install
```

### 2. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
# æˆ–è€…
pnpm dev
```

å‰ç«¯å°†åœ¨ `http://localhost:5173` å¯åŠ¨

### 3. å¯åŠ¨åç«¯æœåŠ¡å™¨ (å¯é€‰)

å¦‚æœä½ æƒ³è¦å®Œæ•´çš„åŠŸèƒ½ï¼Œéœ€è¦å¯åŠ¨åç«¯æœåŠ¡å™¨ï¼š

```bash
# å®‰è£…åç«¯ä¾èµ–
cd server
npm install

# å¯åŠ¨åç«¯æœåŠ¡å™¨
npm start
```

åç«¯å°†åœ¨ `http://localhost:3000` å¯åŠ¨

## é¡¹ç›®ç»“æ„

```
demo2/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ ImageUpload.vue      # å›¾ç‰‡ä¸Šä¼ ç»„ä»¶
â”‚   â”œâ”€â”€ App.vue                  # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.ts                  # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ style.css               # å…¨å±€æ ·å¼
â”œâ”€â”€ server-example.js           # åç«¯æœåŠ¡å™¨ç¤ºä¾‹
â”œâ”€â”€ server-package.json         # åç«¯ä¾èµ–é…ç½®
â”œâ”€â”€ package.json                # å‰ç«¯ä¾èµ–é…ç½®
â””â”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
```

## åç«¯æ¥å£

### ä¸Šä¼ å•ä¸ªå›¾ç‰‡
- **POST** `/api/upload`
- **Content-Type**: `multipart/form-data`
- **å‚æ•°**: `image` (æ–‡ä»¶)

### æ‰¹é‡ä¸Šä¼ å›¾ç‰‡
- **POST** `/api/upload-multiple`
- **Content-Type**: `multipart/form-data`
- **å‚æ•°**: `images` (æ–‡ä»¶æ•°ç»„)

### è·å–æ–‡ä»¶åˆ—è¡¨
- **GET** `/api/files`
- **è¿”å›**: å·²ä¸Šä¼ æ–‡ä»¶åˆ—è¡¨

### åˆ é™¤æ–‡ä»¶
- **DELETE** `/api/files/:filename`
- **å‚æ•°**: `filename` (æ–‡ä»¶å)

## é…ç½®è¯´æ˜

### å‰ç«¯é…ç½®

åœ¨ `src/components/ImageUpload.vue` ä¸­å¯ä»¥ä¿®æ”¹ï¼š

- ä¸Šä¼ æ¥å£åœ°å€ (é»˜è®¤: `/api/upload`)
- æ–‡ä»¶ç±»å‹é™åˆ¶
- æ–‡ä»¶å¤§å°é™åˆ¶
- ä¸Šä¼ è¿›åº¦æ˜¾ç¤º

### åç«¯é…ç½®

åœ¨ `server-example.js` ä¸­å¯ä»¥ä¿®æ”¹ï¼š

- æœåŠ¡å™¨ç«¯å£ (é»˜è®¤: 3000)
- ä¸Šä¼ ç›®å½• (é»˜è®¤: `uploads/`)
- æ–‡ä»¶å¤§å°é™åˆ¶ (é»˜è®¤: 5MB)
- æ–‡ä»¶æ•°é‡é™åˆ¶ (é»˜è®¤: 10ä¸ª)

## å¼€å‘è¯´æ˜

### è‡ªå®šä¹‰åç«¯æ¥å£

å¦‚æœä½ æœ‰è‡ªå·±çš„åç«¯æœåŠ¡ï¼Œåªéœ€è¦ä¿®æ”¹ `ImageUpload.vue` ä¸­çš„ `uploadFile` å‡½æ•°ï¼š

```typescript
const uploadFile = async (file: File): Promise<{ success: boolean; message: string }> => {
  try {
    const formData = new FormData()
    formData.append('image', file)

    // ä¿®æ”¹ä¸ºä½ çš„åç«¯æ¥å£åœ°å€
    const response = await fetch('ä½ çš„åç«¯æ¥å£åœ°å€', {
      method: 'POST',
      body: formData
    })

    // æ ¹æ®ä½ çš„åç«¯å“åº”æ ¼å¼ä¿®æ”¹
    if (response.ok) {
      return {
        success: true,
        message: `æ–‡ä»¶ ${file.name} ä¸Šä¼ æˆåŠŸ`
      }
    } else {
      return {
        success: false,
        message: `æ–‡ä»¶ ${file.name} ä¸Šä¼ å¤±è´¥`
      }
    }
  } catch (error) {
    return {
      success: false,
      message: `æ–‡ä»¶ ${file.name} ä¸Šä¼ å¤±è´¥: ç½‘ç»œé”™è¯¯`
    }
  }
}
```

### æ·»åŠ æ–°åŠŸèƒ½

1. **å›¾ç‰‡å‹ç¼©**: å¯ä»¥åœ¨ä¸Šä¼ å‰æ·»åŠ å›¾ç‰‡å‹ç¼©åŠŸèƒ½
2. **å›¾ç‰‡è£å‰ª**: å¯ä»¥æ·»åŠ å›¾ç‰‡è£å‰ªåŠŸèƒ½
3. **äº‘å­˜å‚¨**: å¯ä»¥é›†æˆé˜¿é‡Œäº‘OSSã€è…¾è®¯äº‘COSç­‰äº‘å­˜å‚¨æœåŠ¡
4. **å›¾ç‰‡å¤„ç†**: å¯ä»¥æ·»åŠ æ°´å°ã€æ»¤é•œç­‰å›¾ç‰‡å¤„ç†åŠŸèƒ½

## éƒ¨ç½²

### å‰ç«¯éƒ¨ç½²

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

### åç«¯éƒ¨ç½²

```bash
# å®‰è£…ç”Ÿäº§ä¾èµ–
npm install --production

# å¯åŠ¨æœåŠ¡å™¨
npm start
```

## è®¸å¯è¯

MIT License
